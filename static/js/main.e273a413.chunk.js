(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){e.exports=n(249)},249:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(15),i=n.n(r),u=n(91),c=n(92),l=n(103),s=n(93),d=n(102),p=n(101),m=n.n(p),g=n(55),P=n.n(g),v=n(94),f=n.n(v),E=n(38),h=function(e){var t=e.classes,n=e.value,o=e.onChange,r=e.onKeyPress;return a.a.createElement("div",{className:t.textFieldWrapper},a.a.createElement(f.a,{value:n,onChange:o,onKeyPress:r,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",fullWidth:!0}))};h.defaultProps={value:"",onChange:function(){},onKeyPress:function(){}};var O=Object(E.withStyles)(function(e){return{textFieldWrapper:{paddingTop:e.spacing.unit,paddingLeft:e.spacing.unit,paddingRight:e.spacing.unit}}})(h),R=n(56),y=n.n(R),b=n(96),w=n.n(b),C=n(97),j=n.n(C),T=n(98),D=n.n(T),I=n(99),_=n.n(I),k=n(100),N=n.n(k),x=n(27),M=function(e){var t=e.classes,n=e.id,o=e.description,r=e.removeRoutePoint;return a.a.createElement(w.a,null,a.a.createElement("div",{className:t.listItemContentWrapper},a.a.createElement(j.a,{primary:o,primaryTypographyProps:{noWrap:!0}}),a.a.createElement(D.a,null,a.a.createElement(_.a,{"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){return r(n)}},a.a.createElement(N.a,null)))))};M.defaultProps={id:0,description:"",removeRoutePoint:function(){}};var S=Object(x.SortableElement)(Object(E.withStyles)(function(e){return{listItemContentWrapper:{minWidth:0,paddingRight:2*e.spacing.unit}}})(M)),W=function(e){var t=e.routePoints,n=e.removeRoutePoint;return a.a.createElement(y.a,null,t.map(function(e,t){var o=e.id,r=e.description;return a.a.createElement(S,{index:t,key:o,id:o,description:r,removeRoutePoint:n})}))};W.defaultProps={routePoints:[],removeRoutePoint:function(){}};var U=Object(x.SortableContainer)(W),F=n(19),A=n(31),K=function(e){var t=e.className,n=e.mapCenter,o=e.changeMapCenter,r=e.routePoints,i=e.moveRoutePoint;return a.a.createElement(A.YMaps,{version:"2.1",query:{lang:"ru_RU",load:"package.full"}},a.a.createElement(A.Map,{className:t,defaultState:{center:[n.latitude,n.longitude],zoom:10},onBoundsChange:function(e){return o.apply(void 0,Object(F.a)(e.get("newCenter")))}},a.a.createElement(A.Polyline,{geometry:r.map(function(e){return[e.latitude,e.longitude]}),options:{strokeColor:"#F00",strokeWidth:4,strokeOpacity:.5}}),r.map(function(e){var t=e.id,n=e.latitude,o=e.longitude,r=e.description;return a.a.createElement(A.Placemark,{key:t,geometry:[n,o],properties:{balloonContent:r},options:{draggable:!0},onDrag:function(e){return i.apply(void 0,[t].concat(Object(F.a)(e.get("target").geometry.getCoordinates())))}})})))};K.defaultProps={mapCenter:{latitude:0,longitude:0},routePoints:[],changeMapCenter:function(){},moveRoutePoint:function(){}};var H=K,V=n(41),B=function(e){function t(){var e,n;Object(u.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={newRoutePointDescription:"",mapCenter:{latitude:55.753575,longitude:37.62104}},n.routePointDescriptionFieldChangeHandler=function(e){var t=e.target.value;n.setState({newRoutePointDescription:t})},n.routePointDescriptionFieldKeyPressHandler=function(e){if("Enter"===e.key){var t=n.state,o=t.newRoutePointDescription,a=t.mapCenter,r=n.props.addRoutePoint;o.length>0&&(r((new Date).getTime(),a.latitude,a.longitude,o),n.setState({newRoutePointDescription:""}))}},n.changeMapCenter=function(e,t){n.setState({mapCenter:{latitude:e,longitude:t}})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.routePoints,o=e.removeRoutePoint,r=e.moveRoutePoint,i=e.reorderRoutePoints,u=this.state,c=u.newRoutePointDescription,l=u.mapCenter;return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,null),a.a.createElement("div",{className:t.appRoot},a.a.createElement(P.a,{className:t.sidebar},a.a.createElement(O,{value:c,onChange:this.routePointDescriptionFieldChangeHandler,onKeyPress:this.routePointDescriptionFieldKeyPressHandler}),a.a.createElement(U,{routePoints:n,removeRoutePoint:o,lockAxis:"y",distance:2,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;return i(t,n)}})),a.a.createElement(H,{className:t.mapArea,mapCenter:l,changeMapCenter:this.changeMapCenter,routePoints:n,moveRoutePoint:r})))}}]),t}(o.Component),J=Object(E.withStyles)(function(){return{appRoot:{display:"flex",height:"100vh"},sidebar:{flex:"1",overflowY:"auto"},mapArea:{flex:"3"}}})(B),Y={addRoutePoint:function(e,t,n,o){return{type:"ADD_ROUTE_POINT",id:e,latitude:t,longitude:n,description:o}},removeRoutePoint:function(e){return{type:"REMOVE_ROUTE_POINT",id:e}},moveRoutePoint:function(e,t,n){return{type:"MOVE_ROUTE_POINT",id:e,latitude:t,longitude:n}},reorderRoutePoints:function(e,t){return{type:"REORDER_ROUTE_POINTS",oldIndex:e,newIndex:t}}},q=Object(V.b)(function(e){return{routePoints:e.routePoints}},Y)(J);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z,L=n(18),$=n(104),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.id,a=t.latitude,r=t.longitude,i=t.description,u=t.oldIndex,c=t.newIndex;switch(n){case"ADD_ROUTE_POINT":return[].concat(Object(F.a)(e),[{id:o,latitude:a,longitude:r,description:i}]);case"REMOVE_ROUTE_POINT":return Object(F.a)(e).filter(function(e){return e.id!==o});case"MOVE_ROUTE_POINT":return Object(F.a)(e).map(function(e){return e.id===o?Object($.a)({},e,{latitude:a,longitude:r}):e});case"REORDER_ROUTE_POINTS":return Object(x.arrayMove)(e,u,c);default:return e}},Q=Object(L.b)({routePoints:G}),X=L.c,Z=(z={},Object(L.d)(Q,z,X()));i.a.render(a.a.createElement(V.a,{store:Z},a.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,1,2]]]);
//# sourceMappingURL=main.e273a413.chunk.js.map